*** Settings ***
Library           ../../../../../Python27/Lib/site-packages/robot/libraries/Collections.py
Library           ../MyPython/ming/Mobile.py
Resource          abstract.txt
Resource          desire_z.txt
Resource          nexus_5.txt
Library           Selenium2Library

*** Test Cases ***
test
    ${obj}    Get Object    className=android.widget.TextView    focusable=false    longClickable=true    index=2
    ${info}    Get Info Of Object    ${obj}
    Log Dictionary    ${info}

switch_camera_lens_position
    ${linearLayout}    Get Object    className=android.widget.LinearLayout    index=2
    ${info_dict}    get_info_of_object    ${linearLayout}
    ${chileCount}    Get From Dictionary    ${info_dict}    chileCount
    ${chileCount}    Evaluate    int(${chileCount})-1
    ${btn}    call    ${linearLayout}    child    instance=${chileCount}    className=android.widget.ImageView
    call    ${btn}    click

launch_google_play_without_user_keyword
    Mobile.Press Home
    ${view}    Mobile.Get Object    className=android.view.View    index=4
    ${all_apps_button}    Mobile.Call    ${view}    child    className=android.widget.TextView    index=2
    Mobile.Call    ${all_apps_button}    click
    Mobile.Click On    description=Shop
    ${play_store_text}    Mobile.Get Object    text=Play Store
    ${is_play_store_text_exist}    Mobile.Wait For Exists    ${play_store_text}    5000
    Should Be True    ${is_play_store_text_exist}    Play Store Text does not exist.

launch_google_play_with_user_keyword
    Mobile.Press Home
    enter_all_apps
    enter_google_play_store
    verify_google_play_text

resource_test
    Import Resource    ${CURDIR}${/}nexus_5.txt
    ${resource_name}    Set Variable    nexus_5
    log    ${resource_name}.enter_app
    desire_z.enter_app    b
    ç­‰

dropbox_test
    Install    C:${/}Users${/}YuMing${/}Documents${/}GitHub${/}furry-ironman${/}RF_uiautomator${/}com.dropbox.android_2.4.0.2.apk
    enter_all_apps
    Uninstall    com.dropbox.android

web_test
    Set Selenium Speed    1s
    Open Browser    https://www.dropbox.com/    firefox
    Click Link    /login
    Input Text    id=login_email    lym060@gmail.com
    Input Password    id=login_password    ginobili060
    Unselect Checkbox    id=remember_me
    Click Button    id=login_submit

google_play_test
    Wakeup The Device
    Press Home
    ${info_list}    Get Info
    ${current_package}    Get From Dictionary    ${info_list}    currentPackageName
    Should Be Equal As Strings    com.android.launcher3    ${current_package}
    Enter App    Play Store

*** Keywords ***
z_open_screen_lock
    Mobile.Swipe    240    560    450    560

enter_all_apps
    ${view}    Mobile.Get Object    className=android.view.View    index=4
    ${all_apps_button}    Mobile.Call    ${view}    child    className=android.widget.TextView    index=2
    Mobile.Call    ${all_apps_button}    click

enter_google_play_store
    Mobile.Click On    description=Shop

verify_google_play_text
    ${play_store_text}    Mobile.Get Object    text=Play Store
    ${is_play_store_text_exist}    Mobile.Wait For Exists    ${play_store_text}    5000
    Should Be True    ${is_play_store_text_exist}    Play Store Text does not exist.
    [Return]    ${is_play_store_text_exist}

Enter App
    [Arguments]    ${app}
    Click On    text=Apps
    ${page_indactor}    Get Object    resourceId=com.android.launcher3:id/page_indicator
    ${page_indactor_info}    Get Info Of Object    ${page_indactor}
    Log Dictionary    ${page_indactor_info}
    ${page_count}    Get From Dictionary    ${page_indactor_info}    chileCount
    : FOR    ${index}    IN RANGE    ${page_count}
    \    ${app_obj}    Get Object    text=${app}
    \    ${is_app_exist}    Wait For Exists    ${app_obj}
    \    ${view}    Get Object    resourceId=com.android.launcher3:id/apps_customize_pane_content
    \    Run Keyword If    ${is_app_exist}    Run Keywords    Call    ${app_obj}    click
    \    ...    AND    Exit For Loop    ELSE    Swipe Left    ${view}
